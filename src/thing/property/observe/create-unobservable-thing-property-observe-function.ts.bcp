import { IPushSourceWithBackPressure } from '@lirx/stream';
import { IThingValue } from '../../types/thing-value.type';
import { IThingPropertyObserveFunction, IThingPropertyObserveFunctionOptions } from './thing-property-observe-function.type';

export interface ICreateUnobservableThingPropertyObserveFunctionOptions {
  name?: string;
}

export function createUnobservableThingPropertyObserveFunction<GValue extends IThingValue>(
  {
    name,
  }: ICreateUnobservableThingPropertyObserveFunctionOptions = {},
): IThingPropertyObserveFunction<GValue> {
  return (
    options?: IThingPropertyObserveFunctionOptions,
  ): IPushSourceWithBackPressure<GValue> => {
    throw new Error(`The property${name ? ` '${name}'` : ''} cannot be observed.`);
  };
}
